---
import ArrowRight from '/assets/svg/arrow-right.svg';
import Badge from './Badge.astro';

export interface Props {
    link: string;
    title: string;
    class?: string;
    images: string[]; // Ahora se recibe un array de im√°genes
}
const { link, title, class: className, images } = Astro.props;
---

<a href={link} class={`${className} relative rounded-xl w-full h-[23.5rem] lg:h-[17rem] md:h-[45rem] xl:h-full opacity-70 hover:opacity-100 transition-opacity duration-500 ease-in-out overflow-hidden`}>
    <div class="image-container">
        {images.map((img, index) => (
        <img 
            src={`/img/menu/${img}`} 
            alt={`Imagen ${index + 1}`} 
            class="fade-image" 
            loading="lazy" 
        />
        ))}
    </div>

    <Badge>
        {title}
    </Badge>
</a>

<style>
.image-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
}

.fade-image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    animation: fadeCycle 12s infinite;
}

/* Generar delay para cada imagen */
.fade-image:nth-child(1) { animation-delay: 0s; }
.fade-image:nth-child(2) { animation-delay: 4s; }
.fade-image:nth-child(3) { animation-delay: 8s; }
.fade-image:nth-child(4) { animation-delay: 12s; }
.fade-image:nth-child(5) { animation-delay: 16s; }
.fade-image:nth-child(6) { animation-delay: 20s; }
.fade-image:nth-child(7) { animation-delay: 24s; }
.fade-image:nth-child(8) { animation-delay: 28s; }
.fade-image:nth-child(9) { animation-delay: 32s; }
.fade-image:nth-child(10) { animation-delay: 36s; }


@keyframes fadeCycle {
    0% { opacity: 0; }
    8% { opacity: 1; }
    33% { opacity: 1; }
    41% { opacity: 0; }
    100% { opacity: 0; }
}
</style>
